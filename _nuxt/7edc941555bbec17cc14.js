(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{330:function(e,t,n){var content=n(364);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("63344063",content,!0,{sourceMap:!1})},363:function(e,t,n){"use strict";var o=n(330);n.n(o).a},364:function(e,t,n){(t=n(15)(!1)).push([e.i,"#chatContainer{height:auto}",""]),e.exports=t},379:function(e,t,n){"use strict";n.r(t);var o=n(331),r=(n(50),n(17)),main=n(332),c=n.n(main),m=n(107),l=n.n(m);function d(){var data=Object(o.a)(["\n              mutation signUp($username: String!) {\n                signUp(username: $username) {\n                  token\n                  user {\n                    id\n                    username\n                    displayName\n                  }\n                }\n              }\n            "]);return d=function(){return data},data}function h(){var data=Object(o.a)(["\n          mutation login($username: String!) {\n            login(username: $username) {\n              token\n              user {\n                id\n                username\n                displayName\n              }\n            }\n          }\n        "]);return h=function(){return data},data}var y={components:{EmojiPicker:c.a},data:function(){return{username:null,show:!1,message:"",messages:[],iconIndex:0,icons:["mdi-emoticon","mdi-emoticon-cool","mdi-emoticon-dead","mdi-emoticon-excited","mdi-emoticon-happy","mdi-emoticon-neutral","mdi-emoticon-sad","mdi-emoticon-tongue"],input:"",search:"",typing:!0,displayName:"anonymous",pageHeight:null,isAuthenticated:!1}},computed:{icon:function(){return this.icons[this.iconIndex]}},mounted:function(){var e=this;this.pageHeight=document.getElementById("content").clientHeight,setTimeout((function(){e.messages.push({id:"1",username:"Chatty Bot",body:"Hello,Welcome to chatty!!! ",me:!1})}),800),setTimeout((function(){e.messages.push({id:"3",username:"Chatty Bot",body:"What is your username?",me:!1})}),1500),setTimeout((function(){e.typing=!1}),1800)},methods:{insert:function(e){this.message+=e},sendMessage:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,o,r,c,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.username){t.next=46;break}return e.messages.push({id:"3",username:"You",body:e.message,me:!0}),e.scrollToEnd(),e.resetIcon(),n=l()(h()),o=e.message,e.username=o,t.prev=7,t.next=10,e.$apollo.mutate({mutation:n,variables:{username:o}}).then((function(e){return e.data}));case 10:if(r=t.sent,console.log(r),!r){t.next=20;break}return t.next=15,e.$apolloHelpers.onLogin(r.login.token,void 0,{expires:100});case 15:e.isAuthenticated=!!e.$apolloHelpers.getToken(),e.displayName=r.login.user.displayName,setTimeout((function(){e.messages.push({id:"3",username:"Chatty Bot",body:"Welcome back "+e.username+" !!!",me:!1}),e.scrollToEnd()}),500),setTimeout((function(){e.messages.push({id:"4",username:"Chatty Bot",body:"You are Chatting as "+e.displayName+". You can change your display name by typing  `/my name is ` followed by your name or type `/make me anonymous` to chat anonymous",me:!1}),e.scrollToEnd()}),1e3),setTimeout((function(){e.$router.push({name:"chat"})}),2e3);case 20:t.next=44;break;case 22:if(t.prev=22,t.t0=t.catch(7),!t.t0){t.next=44;break}return setTimeout((function(){e.messages.push({id:"3",username:"Chatty Bot",body:"Creating new account....",me:!1}),e.scrollToEnd()}),500),c=l()(d()),t.prev=27,t.next=30,e.$apollo.mutate({mutation:c,variables:{username:o}}).then((function(e){return e.data}));case 30:if(!(m=t.sent)){t.next=39;break}return t.next=34,e.$apolloHelpers.onLogin(m.signUp.token,void 0,{expires:100});case 34:e.isAuthenticated=!!e.$apolloHelpers.getToken(),e.displayName=m.signUp.user.displayName,setTimeout((function(){e.messages.push({id:"4",username:"Chatty Bot",body:"Hello "+e.username+" !!!",me:!1}),e.scrollToEnd()}),500),setTimeout((function(){e.messages.push({id:"5",username:"Chatty Bot",body:"You are Chatting as "+e.displayName+". You can change your display name by typing  `/my name is ` followed by your name or type `/make me anonymous` to chat anonymous",me:!1}),e.scrollToEnd()}),1e3),setTimeout((function(){e.$router.push({name:"chat"})}),2e3);case 39:t.next=44;break;case 41:t.prev=41,t.t1=t.catch(27),t.t1&&setTimeout((function(){e.messages.push({id:"3",username:"Chatty Bot",body:"Sorry, there was an error creating account for "+e.username,me:!1}),e.scrollToEnd()}),1e3);case 44:t.next=48;break;case 46:e.messages.push({id:"3",username:"You",body:e.message,me:!0}),e.resetIcon();case 48:e.clearMessage(),e.scrollToEnd();case 50:case"end":return t.stop()}}),t,null,[[7,22],[27,41]])})))()},clearMessage:function(){this.message=""},resetIcon:function(){this.iconIndex=0},changeIcon:function(){this.iconIndex===this.icons.length-1?this.iconIndex=0:this.iconIndex++,this.$refs.myBtn.click()},scrollToEnd:function(){setTimeout((function(){var e=document.getElementById("chatContainer");e.scrollTop=e.scrollHeight+1e4}),100)}}},v=(n(363),n(61)),f=n(87),k=n.n(f),x=n(134),_=n(333),T=n(326),C=n(370),w=n(371),j=n(346),I=n(372),$=n(365),B=n(374),E=n(375),component=Object(v.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{id:"chat-main",column:""}},[n("v-container",{attrs:{absolute:""}},[n("div",{style:{"max-height":"calc("+(e.pageHeight-150)+"px)"},attrs:{id:"chatContainer"}},e._l(e.messages,(function(t){return n("v-timeline",{key:e.messages.id,attrs:{"align-top":!0,reverse:t.me,dense:!0}},[n("v-timeline-item",{scopedSlots:e._u([{key:"icon",fn:function(){return[n("v-avatar",[t.me?n("img",{attrs:{src:"https://i.pravatar.cc/64?u=me"}}):e._e(),e._v(" "),t.me?e._e():n("img",{attrs:{src:"https://cdn.dribbble.com/users/1326994/screenshots/3880901/____.jpg"}})]),e._v(" "),n("div",{staticClass:"chat-username"},[n("p",[e._v(e._s(t.username))])])]},proxy:!0}],null,!0)},[e._v(" "),n("v-card",{staticClass:"elevation-2"},[n("v-card-text",[e._v("\n              "+e._s(t.body)+"\n            ")])],1)],1)],1)})),1)]),e._v(" "),n("v-row",[n("v-col",{staticClass:"chat-input",attrs:{cols:"12"}},[e.typing?n("p",{staticClass:"typing"},[e._v("Chatty Bot is typing...")]):e._e(),e._v(" "),n("emoji-picker",{attrs:{search:e.search},on:{emoji:e.insert},scopedSlots:e._u([{key:"emoji-invoker",fn:function(t){var o=t.events.click;return n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"myBtn",on:{click:function(e){return e.stopPropagation(),o(e)}}},[n("button",{attrs:{type:"button"}},[e._v("open")])])}},{key:"emoji-picker",fn:function(t){var o=t.emojis;return n("div",{},[n("div",{staticClass:"emoji-picker"},[n("div",{staticClass:"emoji-picker__search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e._v(" "),n("div",e._l(o,(function(t,o){return n("div",{key:o},[n("h5",[e._v(e._s(o))]),e._v(" "),n("div",{staticClass:"emojis"},e._l(t,(function(t,o){return n("span",{key:o,attrs:{title:o},on:{click:function(n){return e.insert(t)}}},[e._v(e._s(t))])})),0)])})),0)])])}}])}),e._v(" "),n("v-text-field",{attrs:{"append-outer-icon":e.message?"mdi-send":"","prepend-icon":e.icon,"auto-grow":!0,rows:1,filled:"","clear-icon":"mdi-close-circle",clearable:"",type:"text",placeholder:"Type a respond...",outlined:"",autofocus:""},on:{"click:append-outer":e.sendMessage,"click:prepend":e.changeIcon,"click:clear":e.clearMessage},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;k()(component,{VAvatar:x.a,VCard:_.a,VCardText:T.a,VCol:C.a,VContainer:w.a,VLayout:j.a,VRow:I.a,VTextField:$.a,VTimeline:B.a,VTimelineItem:E.a})}}]);